<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />

    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Dust by LinkedIn</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Dust</h1>
        <h2>Asynchronous templates for the browser and node.js</h2>
        <a href="https://github.com/linkedin/dustjs" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h1>Dust<a href="http://travis-ci.org/linkedin/dustjs"><img src="https://secure.travis-ci.org/linkedin/dustjs.png" alt="Build Status"></a>
</h1>
<h1>This is the LinkedIn fork of Dust</h1>

<p>Details in the blog post : 
<a href="http://engineering.linkedin.com/frontend/leaving-jsps-dust-moving-linkedin-dustjs-client-side-templates">
Leaving jsps in the Dust</a></p>

<p>We chose Dust after evaluating a bunch of others. Read more here :
<a href="http://engineering.linkedin.com/frontend/client-side-templating-throwdown-mustache-handlebars-dustjs-and-more">
Dust for client templates at LinkedIn  
</a> </p>

<p>We will gradually be extending this library with core feature enhancements, helper functions and bug fixes. </p>


<h2>Dust Highlights!</h2>

<ul>
<li>async/streaming operation</li>
<li>browser/node compatibility</li>
<li>extended Mustache/ctemplate syntax</li>
<li>clean, low-level API</li>
<li><a href="http://linkedin.github.com/dustjs/benchmark/index.html">high performance</a></li>
<li>composable templates</li>
</ul>



<h2>Dust Quick Tutorial</h2>
<p>
<a href="https://github.com/linkedin/dustjs/wiki/Dust-Tutorial">Learn how to use LinkedIn fork of Dust</a>
</p>

<h2>Dust with Express</h2>
<p>
<a href="https://github.com/chovy/express-template-demo">Learn how to use LinkedIn fork of Dust in Express 3.0</a>
</p>


<h2>LinkedIn additions include:</h2>

<h3>Release 1.0</h3>

<h4>Core enhancements</h4>
<ul>
<li>Extend partials to support inline params like #sections</li>
<li>Section index for lists of objects,$idx in the context</li>
<li>Section size/length for lists of objects, $len in the context</li>
<li>Extend grammar to relax whitespace/eol for certain Dust tags</li>
<li>Support numbers in the inline params</li>
<li>Extend core support for accessing single dimensional array with [] notation</li>
<li>Support dynamic blocks, similar to dynamic partials</li>
<li>Add pipe support for Node.js</li>
<li>Add support for runnin on V8/rhino</li>
<li>Extend filters for JSON.stringify and JSON.parse</li>
<li>Jasmine for unit tests</li>
<li>Travis CI for continuos build and Cover for code coverage report</li>
</ul>

<h4>Bug fixes/ perf improvements</h4>
<ul>
<li>Fix to support &gt; node0.4 </li>
<li>Fix to peg.js to print the line and column number for syntax errors in dust templates</li>
<li>Improved compile times by 10X by optimizing the way we used the peg parser</li>
</ul>

<h4>Extensions and helpers </h4>
<ul>
<li>Simple logic/branching helpers with @select/ @eq/ @lt etc</li>
<li>Versatile @if helper relies on the eval for complex expression evaluation, Here are the perf results for eval <a href="http://jsperf.com/dust-if">http://jsperf.com/dust-if</a>.  Use with caution, since eval is known to be slow.
</ul>


<h3>Release 1.1</h3>


<h4>Core enhancements</h4>
<ul>
<li>Extend the #section block to support $idx and $len for lists of primitives </li>
<li>Add support for assigning multiple event-listeners on stream</li>
</ul>

<h4>Bug fixes/ perf improvements</h4>
<ul>
<li>Fix the #section block on how it behaves with empty arrays. Maintain consistency between ?, # and ^ for truthy/falsy evaluations </li>
<li>Fix "this" value in anonymous functions passed into the context object</li>
<li>Handle undefined filters and helpers gracefully</li>
</ul>

<h4>Extensions and helpers </h4>
<ul>
<li>Helpers are now in its own node package<a href="https://github.com/linkedin/dustjs-helpers"> See here </a></li>
<li>@math for simple math operations such as add/subtract/mod/ceil etc. It also supports branching based on the output of math operation</li>
<li>@size helper for determining the size of lists/objects/primitives</li>
<li>@contextDump helper for debugging the current context in the dust stack</li>
</ul>

<h3>NOTE: We will remove the dust helpers code from the dustjs-linkedin repo from V1.1.2, use
  npm install dustjs-helpers instead
</h3>



<h2>Installation</h2>

<p>For LinkedIn Dust</p>

<pre><code>$ npm install dustjs-linkedin
</code></pre>


<p>For LinkedIn Dust helpers</p>

<pre><code>$ npm install dustjs-helpers
</code></pre>

<p>To render compiled templates in the browser:</p>

<pre><code>&lt;script src="dust-core-1.0.0.min.js"&gt;&lt;/script&gt;
</code></pre>

<p>To compile a template on the command line, use the dustc command.
Its syntax is:</p>

<pre><code>dustc [{-n|--name}=&lt;template_name&gt;] {inputfilename|-} [&lt;outputfilename&gt;]
</code></pre>

<p>For example, to compile a template on the command line and have it
registered under the same name as the source file:</p>

<pre><code>$ dustc template.html
</code></pre>

<p>You can customize the name under which the template is registered:</p>

<pre><code>$ dustc --name=mytemplate template.html
</code></pre>

<h2>Running Tests</h2>

<p>To run tests:</p>

<pre><code>$ make test
</code></pre>

<p>To run jasmine tests:</p>

<pre><code>$ make jasmine
</code></pre>

<h2>Coverage report</h2>

<p>To generate code coverage report:</p>

<pre><code>$ npm install cover -g
$ make coverage
</code></pre>

<p>To view HTML test coverage report:</p>

<pre><code>$ open cover_html/index.html</code></pre>

<h2>Dust Coverage Online!</h2>
<ul>
  <li> <a href="http://linkedin.github.com/dustjs/cover_html/index.html">Click Here</a></li>
</ul>

<h2>Minify dust files</h2>

<p>If you need a minified version of Dust, you will find it in the "dist" folder.
If the minified files do not exist, you can generate them using </p>


<p>Install all the dependencies to minify first</p>

<pre><code>$ npm install</code></pre>

<pre><code>$ make min</code></pre>


<h2>Guidelines - Contributing to LinkedIn Dust</h2>

<p>

<a href="https://github.com/linkedin/dustjs/wiki/How-to-Contribute">If you are interested in contributing?</a>
</p>




<h2>Troubleshooting Guide</h2>


<p> Are you getting this error message "beta does not have "untap" method" when running tests on the helpers
package installed via npm install dustjs-helpers</p>

<p> This error occurs since you have an older version of the dustjs installed, re-install it to fix the problem </p>

<pre><code>$ npm uninstall dustjs-linkedin</code></pre>

<pre><code>$ npm install git://github.com/linkedin/dustjs.git</code></pre>

Note: The above issue will go away once we tag the dustjs repo to 1.1 and update the package.json in the dustjs-helpers 

</section>

        <aside id="sidebar">
          <a href="https://github.com/linkedin/dustjs/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/linkedin/dustjs/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/linkedin/dustjs"></a> is maintained by <a href="https://github.com/linkedin">linkedin</a>.</p>

          <p>This page was generated by <a href="pages.github.com">GitHub Pages</a> using the Architect theme by <a href="http://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

  
  </body>
</html>